<article>
  <h2><%= post.title %></h2>

  <%# Only display username and date if user is member/admin or creator of the post %>
  <% if (locals.user && (user.is_admin || user.is_member || user.username === post.username)) { %>
    <p><%= post.username %></p>
    <%# Dates are rendered visually on client side %>
    <time
      class="js-date"
      data-timestamp="<%= post.created_at %>"
      datetime="<%= new Date(post.created_at).toISOString() %>"
    >ğŸ•’</time>
  <% } else { %>
    <p>Annonymous</p>
    <p>hidden</p>
  <% } %>

  <p><%= post.message %></p>
  
  <% if (locals.user?.is_admin) { %>
    <form action="/delete-post/<%= post.id%>" method="post">
      <button type="submit">Delete</button>
    </form>
  <% } %>
</article>